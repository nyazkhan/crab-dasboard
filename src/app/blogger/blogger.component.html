<div class="card">
    <div class="card-header card-header-warning">
        <h4 class="card-title">Table Title</h4>
        <p class="card-category">Here is a subtitle for this table</p>
    </div>
    <div class="card-content table-responsive table-full-width">
        <div class="table-responsive" id="coll">
            <table class="table table-hover ">

                <thead class=" text-primary">

                    <th *ngFor="let head of headerRow">{{ head }}</th>


                </thead>
                <tbody *ngFor="let row of bloggerList let i =index">

                    <tr id="heading{{i}}" data-toggle="collapse" attr.href="#collapseExample{{i}}">
                        <td>
                            <span class="mainColor">{{ i+1 }}</span>

                        </td>
                        <td>{{row.createdDate | date: 'dd MMM, yyyy'}}</td>
                        <td>{{row.name }}</td>
                        <td>{{row.mobile }}</td>
                        <td>{{row.email }}</td>
                        <td>{{row.name }}</td>


                        <td>
                            <span *ngIf="row.status==1" class="badge badge-pill badge-primary">Pending</span>
                            <span *ngIf="row.status==2" class="badge badge-pill badge-secondary">Hold</span>
                            <span *ngIf="row.status==3" class="badge badge-pill badge-secondary">Reject</span>
                            <span *ngIf="row.status==4" class="badge badge-pill badge-secondary">Reverted</span>
                            <span *ngIf="row.status==5" class="badge badge-pill badge-secondary">Approved</span>


                        </td>



                    </tr>
                    <tr class="collapse tabel-detail col-md-8 col-lg-8 " data-parent="#coll"
                        attr.id="collapseExample{{i}}">
                        <td colspan=8 class=" incident-details  ">
                            <div class="row p-2 auto-cursor">
                                <div class="card card-nav-tabs description word-break"
                                    style="margin:10px; width:94% ; margin: auto; margin-bottom: 0px;">
                                    <div class="card-body" style="padding-bottom: 0px;">
                                        <div class="description-heading"> Description</div>
                                        <p> {{row.description}}</p>
                                    </div>
                                </div>


                                <div class="card detail-box responsiveCard">
                                    <div>
                                        <div class="card-header card-header-info float-right text-right"
                                            style="width:150px;">
                                            Restaurant Details
                                        </div>
                                    </div>
                                    <div class="card-body" style="padding:15px;">
                                        <div class="row">
                                            <div class="col-md- 6 col-lg-6 col-sm-6">
                                                <div>
                                                    <b>Name : </b> {{ row.name }}
                                                </div>
                                                <div>
                                                    <b>Email : </b> {{ row.email }}
                                                    <span class="badge badge-pill  badge-primary"
                                                        *ngIf="row.isEmailVerified">Verified</span>

                                                </div>
                                                <div>
                                                    <b>Phone : </b> {{ row.mobile }}
                                                </div>

                                                <div>
                                                    <b>fb Profile : </b> {{ row.fbProfile }}
                                                </div>
                                                <div>
                                                    <b>insta Profile : </b> {{ row.instaProfile }}
                                                </div>
                                                <div>
                                                    <b>twitter Profile: </b> {{ row.twitterProfile }}
                                                </div>
                                                <div>
                                                    <b>tripAd Profile: </b> {{ row.tripAdProfile }}
                                                </div>
                                                <div *ngIf="!row.address">
                                                    <b>Address :</b>

                                                </div>
                                                <div *ngIf="row.address">
                                                    <b>Address :</b>
                                                    {{row.address.premisesNo}} ,
                                                    {{row.address.landmark}},
                                                    {{row.address.locality}},
                                                    {{row.address.pincode}}
                                                </div>
                                            </div>


                                            <div class="col-md- 6 col-lg-6 col-sm-6">
                                                <div *ngIf="row.invitationType==1">
                                                    <b>invitation Type : </b> Single
                                                </div>
                                                <div *ngIf="row.invitationType==2">
                                                    <b>invitation Type : </b> Table
                                                </div>
                                                <div *ngIf="row.invitationType==3">
                                                    <b>invitation Type : </b> Single & Table
                                                </div>
                                                <div *ngIf="!row.invitationType">
                                                    <b>invitation Type : </b>
                                                </div>
                                                <div *ngIf="row.foodType==1">
                                                    <b>Food Type :
                                                    </b>vegetarian
                                                    <span class="badge badge-pill  badge-primary"
                                                        *ngIf="row.isJain">Jain</span>
                                                </div>
                                                <div *ngIf="row.foodType==2">
                                                    <b>Food Type :
                                                    </b>Non - vegetarian
                                                </div>
                                                <div *ngIf="row.foodType==3">
                                                    <b>Food Type :
                                                    </b>vegetarian & Non - vegetarian
                                                    <span class="badge badge-pill  badge-primary"
                                                        *ngIf="row.isJain">Jain</span>
                                                </div>

                                                <div *ngIf="!row.foodType">
                                                    <b>Food Type :
                                                    </b>
                                                </div>

                                                <div>
                                                    <b> Distance: </b> {{ row.maxDistance }}
                                                </div>



                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="d-flex justify-content-center">
                                <button *ngIf="row.status !==5" class="btn btn-sm btn-outline-success margin-right"
                                    (click)="changeStatusOfRestaurant(row.id, 5 ,'Approved', i)" type="submit"
                                    data-toggle="modal" data-target="#rejectModal">
                                    <i class="material-icons"> assignment_turned_in </i> Approved</button>
                                <button *ngIf="row.status !==2" class="btn btn-sm btn-outline-success margin-right"
                                    (click)="changeStatusOfRestaurant(row.id, 2 , 'On Hold' , i)" type="submit"
                                    data-toggle="modal" data-target="#rejectModal">
                                    <i class="material-icons"> assignment_turned_in </i> On Hold</button>
                                <button *ngIf="row.status !==4" class="btn btn-sm btn-outline-danger " type="submit"
                                    data-toggle="modal"
                                    (click)="changeStatusOfRestaurant(row.id, 4 ,'Reverted Back', i)"
                                    data-target="#rejectModal">
                                    <i class="material-icons"> clear </i> Reverted Back</button>
                                <button *ngIf="row.status !==3" class="btn btn-sm btn-outline-danger " type="submit"
                                    data-toggle="modal" (click)="changeStatusOfRestaurant(row.id, 3, 'Reject', i)"
                                    data-target="#rejectModal">
                                    <i class="material-icons"> clear </i> Reject</button>
                            </div>
                        </td>
                    </tr>

                </tbody>
                <div class="col-md-8 col-lg-8" style="background: gray">

                </div>

            </table>
        </div>
    </div>
</div>


<div class="modal fade" id="rejectModal" tabindex="-1" role="dialog" aria-labelledby="rejectModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content card card-stats">
            <div class="card-header card-header-danger card-header-icon">
                <div class="card-icon">
                    <i class="material-icons">
                        phonelink_erase
                    </i>
                </div>
                <h3 class="card-title">{{status}}</h3>

            </div>
            <div class="modal-body">

                <form (ngSubmit)="onSubmit()" #rejectForm="ngForm">
                    <div class="row" *ngIf="status !=='Approved'">
                        <div class="col-md-12">

                            <div class="form-group">
                                <label for="comment"> {{status}} description</label>

                                <br>
                                <textarea required class="form-control" [(ngModel)]="rejectionComment" name="comment"
                                    #comment="ngModel" id="comment"></textarea>
                            </div>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" (click)="rejectForm.reset()"
                            data-dismiss="modal">Close</button>
                        <button *ngIf="!rejectButtonHide" type="submit" [disabled]="!rejectForm.valid"
                            class="btn btn-danger">{{status}}</button>
                        <button *ngIf="rejectButtonHide" type="button" class="btn btn-default"> <i
                                class="fa fa-spinner fa-spin mainColor"></i>submitting</button>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>